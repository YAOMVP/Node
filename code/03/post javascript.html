<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>post</title>
</head>

<body>
    <button class="login">Login</button>
</body>
<script>
    let login = document.querySelector(".login");
    login.addEventListener("click", function() {
        //1.ğŸ˜ŠğŸ˜Šè·å–ç½‘ç»œæ•°æ®  ï¼ï¼ğŸ˜Šå¿˜äº†newï¼ï¼ï¼ï¼
        let xhr = new XMLHttpRequest();

        //2.ğŸ˜ŠğŸ˜Š openæ–¹æ³•è·å¾—  è¯·æ±‚æ–¹å¼ ä¸ è¯·æ±‚åœ°å€
        xhr.open("post", "https://autumnfish.cn/api/user/register");

        //æ¥è¿™é‡ŒğŸ˜ŠğŸ˜Š é€šè¿‡è®¾ç½®è¯·æ±‚å¤´ æ¥è®¾ç½®postè¯·æ±‚çš„åŠ å¯†æ–¹å¼ 
        xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

        //3.ğŸ˜ŠğŸ˜Šonloadæ–¹æ³•å›è°ƒå‡½æ•°
        xhr.onload = function() {
                //4.ğŸ˜ŠğŸ˜Š responseæ–¹æ³•å¾—åˆ°æ•°æ®  //ç›¸åº”çš„å†…å®¹æ˜¯ç®€å•æ•°æ®ç±»å‹æ‰€ä»¥ä¸ç”¨JSONè½¬æ¢
                console.log(xhr.response);
            }
            //5.ğŸ˜ŠğŸ˜Š å¦‚æœpostè¯·æ±‚æœ‰å‚æ•°ï¼Œåˆ™é€šè¿‡postæ–¹æ³•æ¥ä¼ é€’ (postè¯·æ±‚æ˜¯éœ€è¦åŠ å¯†çš„ï¼Œç›´æ¥ç»™æ˜¯ä¸è®¤çš„)
        xhr.send("username=è°·å¤§å¸ˆ");
    });
</script>

</html>