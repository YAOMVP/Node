<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>post</title>
</head>

<body>
    <button class="post">Postè¯·æ±‚</button>
    <script>
        let post = document.querySelector(".post");
        post.addEventListener("click", function() {
            //ğŸ˜Šå°è£…å‡½æ•°
            //option.url æ¥å£åœ°å€
            //option.data æ¥å£å‚æ•°
            //option.success å›è°ƒå‡½æ•°
            function post(option) { //ğŸ˜Šæ‰€ä»¥åªè¦ä¼ è¿›æ¥ä¸€ä¸ªoptionè¿›æ¥å°±å¯ä»¥äº†
                //ğŸ˜Š1.å£°æ˜ç½‘ç»œè¯·æ±‚
                let xhr = new XMLHttpRequest();
                // ğŸ˜Š2.openæ–¹æ³• ä¼ é€’æ•°æ®ç±»å‹ å’Œ æ¥å£åœ°å€
                xhr.open("post", option.url); //ğŸ˜Špostè¯·æ±‚ç›´æ¥ç”¨ ä¸éœ€è¦æ‹¼æ¥
                //3.ğŸ˜ŠåŠ å¯†æ–¹å¼ è·å–è¯·æ±‚å¤´
                xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                //4.ğŸ˜Šonloadæ–¹æ³•å›è°ƒå‡½æ•°
                xhr.onload = function() {
                        option.success(xhr.response); //å°†è¿”å›ç»“æœç»™å›è°ƒå‡½æ•°
                    } //ğŸ˜Šè¿™é‡Œæ ¼å¼å†™é”™äº†ï¼ï¼ï¼
                    //5.ğŸ˜Šsendæ–¹æ³•
                xhr.send(option.data);
            }
            post({
                url: "https://autumnfish.cn/api/user/register",
                data: "username=å“¥ä»¬å„¿",
                success: function(backData) {
                    console.log(backData);
                }
            })
        })
    </script>
</body>

</html>