<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ajax</title>
</head>

<body>
    <button class="get">Get jokes</button>

    <script src="./lib/jquery.js"></script>
    <script>
        //1.ğŸ˜Š jQueryæ–¹å¼è·å¾—ajaxè¯·æ±‚
        $(function() {
            $(".get").on("click", function() {
                // $.ajax({
                //     type: "get",
                //     url: "https://autumnfish.cn/api/joke/list",
                //     data: {
                //         num: 10
                //     },
                //     success: function(backData) {
                //         console.log(backData);
                //     }
                // })


                //2.ğŸ˜ŠåŸç”Ÿjsæ–¹å¼è·å¾—ajaxè¯·æ±‚
                //2.1ğŸ˜ŠğŸ˜Š å£°æ˜ä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼Œä¸ç®¡æ˜¯getè¿˜æ˜¯postéƒ½ä¾èµ–è¿™ä¸ªè¯·æ±‚ï¼ï¼(jqè™½ç„¶æ²¡çœ‹åˆ°ï¼Œä½†æ˜¯å†…éƒ¨å·²ç»å¸®å¿™å£°æ˜å¥½äº†)
                let xhr = new XMLHttpRequest();

                //2.2ğŸ˜ŠğŸ˜Š è®¾ç½®ä¸€ä¸ªopenæ–¹æ³•ï¼Œå¯ä»¥æŒ‡å®šè¯·æ±‚çš„æ–¹å¼å’Œè¯·æ±‚çš„åœ°å€
                //xhr.open("è¯·æ±‚ç±»å‹","è¯·æ±‚åœ°å€")
                //æ³¨æ„ï¼šåªæœ‰getè¯·æ±‚æ‰å¯ä»¥æ‹¼æ¥ï¼ï¼ï¼ poståŠ å¯†ä¸æ‹¼æ¥
                xhr.open("get", "https://autumnfish.cn/api/joke/list?num=12");

                //2.3ğŸ˜ŠğŸ˜Šè®¾ç½®onloadå›è°ƒå‡½æ•° (ä¹Ÿå°±æ˜¯è¯·æ±‚æˆåŠŸä¹‹ååå°è¿”å›çš„æ•°æ®ï¼Œåƒjqçš„success)
                xhr.onload = function() {
                        //2.4ğŸ˜ŠğŸ˜Šé€šè¿‡xhr.responseè·å¾—åå°å“åº”å›çš„æ•°æ®
                        console.log(xhr.response);
                        //ğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜Šæ‰‹åŠ¨å°†JSONå¯¹è±¡è½¬æ¢ä¸ºjså¯¹è±¡
                        console.log(JSON.parse(xhr.response));
                    }
                    //2.5ğŸ˜ŠğŸ˜Šå‘èµ·sendæ–¹æ³•æ‰å¯ä»¥å¼€å§‹è¯·æ±‚
                xhr.send(); //ä½†æ˜¯æ‹¿åˆ°çš„æ˜¯JSONæ ¼å¼çš„  
            })
        })
    </script>
</body>

</html>