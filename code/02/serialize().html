<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>form</title>
</head>

<body>
    ä¹¦å: <input type="text" id="bookname" name="bookname" /><br /> ä½œè€…:
    <input type="text" id="author" name="author" /> <br /> å‡ºç‰ˆç¤¾:
    <input type="text" id="publisher" name="publisher" />
    <br />
    <button type="submit">æäº¤</button>
    <script src="./lib/jquery.js"></script>

    <script>
        $(function() {
            //æŒ‰é’®å†™åœ¨è¡¨å•åŸŸé‡Œè¾¹ä¼šæœ‰é»˜è®¤æ•ˆæœï¼Œå°±æ˜¯è‡ªåŠ¨åˆ·æ–°é¡µé¢ï¼Œå¦‚æœä¸æƒ³è¦è¿™ä¸ªæ•ˆæœï¼Œéœ€è¦ğŸ˜Šé˜»æ­¢é»˜è®¤è¡Œä¸ºæ–¹æ³•
            $("button").on("click", function(e) {
                e.preventDefault();
                console.log("çˆ±æ˜¯ä¸€é“å…‰");

                //ä¼ ç»Ÿæ–¹æ³•è·å¾—å›¾ä¹¦ä¿¡æ¯:
                let bookName = $("#bookname").val().trim();
                let bookAuthor = $("#author").val().trim();
                let bookPublisher = $("#publisher").val().trim();

                //ğŸ˜Šå¦‚æœè¦æ”¶é›†ç”¨æˆ·ä¿¡æ¯æœ‰åå‡ ä¸ªçš„æ—¶å€™ å¯ä»¥ç”¨serialize() ä¸€å®šè¦ç”¨name
                //ğŸ˜Šå¹¶ä¸” nameé‡Œçš„åå­— è¦å’Œæ¥å£è¦æ±‚çš„åå­—ä¸€è‡´ï¼ï¼ï¼ï¼
                //ğŸ˜Šç°åœ¨çš„æ–¹æ³•ï¼šserialize()  key1=value1&key2=value2&key3=value3
                // ğŸ˜Šå¯ä»¥ä¸€æ¬¡æ€§è·å¾—æ‰€æœ‰æ•°æ®çš„å­—ç¬¦ä¸²æ‹¼æ¥ç»“æ„
                let data = $("#f1").serialize();
                console.log(data);
                //å‘èµ·Ajaxè¯·æ±‚ï¼Œæ·»åŠ å›¾ä¹¦ä¿¡æ¯
                $.ajax({
                    type: "post",
                    url: "http://www.liulongbin.top:3006/api/addbook",
                    data: data,
                    success: function(backData) {
                        console.log(backData);
                    }
                })
            })
        })
    </script>
</body>

</html>