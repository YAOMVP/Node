<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>form</title>
</head>

<body>
    书名: <input type="text" id="bookname" name="bookname" /><br /> 作者:
    <input type="text" id="author" name="author" /> <br /> 出版社:
    <input type="text" id="publisher" name="publisher" />
    <br />
    <button type="submit">提交</button>
    <script src="./lib/jquery.js"></script>

    <script>
        $(function() {
            //按钮写在表单域里边会有默认效果，就是自动刷新页面，如果不想要这个效果，需要😊阻止默认行为方法
            $("button").on("click", function(e) {
                e.preventDefault();
                console.log("爱是一道光");

                //传统方法获得图书信息:
                let bookName = $("#bookname").val().trim();
                let bookAuthor = $("#author").val().trim();
                let bookPublisher = $("#publisher").val().trim();

                //😊如果要收集用户信息有十几个的时候 可以用serialize() 一定要用name
                //😊并且 name里的名字 要和接口要求的名字一致！！！！
                //😊现在的方法：serialize()  key1=value1&key2=value2&key3=value3
                // 😊可以一次性获得所有数据的字符串拼接结构
                let data = $("#f1").serialize();
                console.log(data);
                //发起Ajax请求，添加图书信息
                $.ajax({
                    type: "post",
                    url: "http://www.liulongbin.top:3006/api/addbook",
                    data: data,
                    success: function(backData) {
                        console.log(backData);
                    }
                })
            })
        })
    </script>
</body>

</html>