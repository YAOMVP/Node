<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>art-template2</title>
</head>

<body>
    <div class="box">


    </div>

    <script src="./lib/jquery.js"></script>
    <script src="./lib/template-web.js"></script>
    <script type="text/html" id="tpl-info">
        <!-- @åŸä¹‰è¾“å‡º -->
        <div>{{@title}}</div>

        <!-- èŠ±èŠ±æ‹¬å· æ ‡å‡†è¾“å‡º -->
        <div>Name:{{name}}</div>
        <div>Age:{{age}}</div>
        <div>Gender:{{gender}}</div>

        <!-- å¾ªç¯è¯­æ³• æœ‰å¼€å¤´æœ‰ç»“å°¾ å› ä¸ºæ˜¯æ•°ç»„ï¼Œè¦å¾ªç¯ï¼Œå¾ªç¯çš„æ˜¯hobby -->
        <ul>
            {{each hobby}}
            <li>{{$value}}</li>
            {{/each}}
        </ul>

        <!-- åˆ¤æ–­è¯­æ³• æœ‰å¼€å¤´æœ‰ç»“å°¾-->
        <div>
            {{if level ===1}} æ™®é€šä¼šå‘˜ {{else if level===2}} ä¸­ç­‰ä¼šå‘˜ {{else if level===3}} é«˜çº§ä¼šå‘˜ {{else}} ä¸æ˜¯ä¼šå‘˜ {{/if}}
        </div>

        <!-- ğŸ˜Š7.0è¿‡æ»¤å‡½æ•° æ„æ€æ˜¯ï¼šå½“åå°çš„åŸå§‹æ•°æ®ä¸æ»¡è¶³æ¡ä»¶çš„æ—¶å€™-->
        <!-- ğŸ˜Š7.1å‡†å¤‡ä¸€ä¸ªå‡½æ•°é¢„å¤„ç†  -->
        <!-- ğŸ˜Š7.2 è°ƒç”¨å‡½æ•°  è¿‡æ»¤å‡½æ•°çš„ç»“æœç»™åŸå§‹æ•°æ®  time|changeTime-->
        <!--  ğŸ˜Š7.3å°†æ—¶é—´å¯¹è±¡è½¬æ¢æˆ dd/mm/yyyy hh:mm:ss-->
        <!--  ğŸ˜Š7.4 å°†æ•°æ®è¿”å›å‡ºå»-->
        <div>
            <!-- 7.2 è¿‡æ»¤å‡½æ•°çš„ç»“æœç»™åŸå§‹æ•°æ® -->
            æ³¨å†Œæ—¶é—´ï¼š{{time |changeTime}}
        </div>
    </script>
    <script>
        $(function() {
                let userInfo = {
                    title: "<h1>çˆ±æ˜¯ä¸€é“å…‰</h1>", //ğŸ˜Šæ³¨æ„""çš„ä½ç½®
                    name: "å¤§ç±³",
                    age: 18,
                    gender: "Male",
                    hobby: ["æŠ½çƒŸ", "å–é…’", "çƒ«å¤´"],
                    level: 3, //è¿™æ˜¯å®¢æˆ·ç­‰çº§
                    time: new Date() //7.0
                }

                //ğŸ˜ŠæŠŠè¿‡æ»¤å‡½æ•° ä¿å­˜åˆ°æŒ‡å®šä½ç½®
                // 7.1 é¢„å¤„ç†å‡½æ•°ï¼š
                //template.defaults.imports().***å‡½æ•°åå­— = function(time){}
                template.defaults.imports.changeTime = function(time) {
                    // 7.3å°†æ—¶é—´å¯¹è±¡è½¬æ¢æˆ dd/mm/yyyy hh:mm:ss
                    let year = time.getFullYear();
                    let month = time.getMonth() + 1;
                    month = month < 10 ? "0" + month : month;
                    let date = time.getDate();
                    date = date < 10 ? "0" + date : date
                    let hour = time.getHours();
                    hour = hour < 10 ? "0" + hour : hour
                    let min = time.getMinutes();
                    min = min < 10 ? "0" + min : min
                    let sec = time.getSeconds();
                    sec = sec < 10 ? "0" + sec : sec
                        //7.4 å°†æ•°æ®è¿”å›å‡ºå»
                    return `${date}/${month}/${month} ${hour}:${min}:${sec}`
                }

                let htmlStr = template("tpl-info", userInfo);
                $(".box").html(htmlStr);
            })
            //art-templateæ­¥éª¤
            //1.å¼•å…¥æ¨¡æ¿å¼•æ“
            //2.script type ="text/html"  && idåˆ«å¿˜äº†
            //3.{{}}
            //4.template("æ¨¡æ¿id",æ•°æ®å¯¹è±¡)
            //5.æ¸²æŸ“è¾“å‡º
    </script>

</body>

</html>