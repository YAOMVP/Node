//ğŸ˜Šè®²çš„æ˜¯ ä¸­é—´ä»¶åº”ç”¨ï¼š

const express = require('express')

//åˆ›å»ºç½‘ç«™æœåŠ¡å™¨
const app = express()

/* app.use((req, res, next) => {
    res.send('ç½‘ç«™æ­£åœ¨ç»´æŠ¤ æ˜å¤©æ—©ä¸Š8ç‚¹æ¥å°±å¥½äº†')
}) */

app.use('/admin', (req, res, next) => {
    //ç”¨æˆ·æ²¡æœ‰ç™»å½•
    let isLogin = true
        //å¦‚æœç”¨æˆ·ç™»å½•
    if (isLogin) {
        //è¯·æ±‚ç»§ç»­å‘ä¸‹æ‰§è¡Œ
        next()
    } else {
        //å¦‚æœç”¨æˆ·æ²¡æœ‰ç™»å½• ç›´æ¥å¯¹å®¢æˆ·ç«¯è¿›è¡Œå“åº”
        res.send('æ²¡ç™»é™†å‘¢ ä¸èƒ½è®¿é—®')
    }
})


app.get('/admin', (req, res) => {
    res.send('ç™»é™†æˆåŠŸ å¯ä»¥è®¿é—®é¡µé¢')
})

app.use((req, res, next) => {
    //ä¸ºå®¢æˆ·ç«¯å“åº”404
    res.status(404).send('è®¿é—®é¡µé¢ä¸å­˜åœ¨')
})

//ç›‘å¬ç«¯å£
app.listen(3000)
console.log('ç½‘ç«™æœåŠ¡å™¨å¯åŠ¨æˆåŠŸäº†');